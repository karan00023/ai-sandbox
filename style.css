:root {
  --bg: #0b0b0d;
  --card: #15161a;
  --text: #f5f5f5;
  --muted: #a3a3a3;
  --primary: #d4af37;
  --good: #22c55e;
  --warn: #f59e0b;
  --bad: #ef4444;
  --border: #2c2d31;
}
:root[data-theme="light"] {
  --bg: #f5f7fb;
  --card: #ffffff;
  --text: #111827;
  --muted: #6b7280;
  --primary: #2563eb;
  --border: #e5e7eb;
}
* { box-sizing: border-box; }
body {
  margin: 0;
  font-family: "Inter", system-ui, sans-serif;
  background: var(--bg);
  color: var(--text);
}
.topbar {
  padding: 1rem;
  display: flex;
  justify-content: space-between;
  gap: 1rem;
  align-items: flex-start;
  border-bottom: 1px solid var(--border);
}
.topbar h1 { margin: 0 0 .3rem; font-size: 1.2rem; }
.topbar p { margin: 0; color: var(--muted); }
.topbar-actions { display: flex; gap: .5rem; }
.grid {
  display: grid;
  gap: 1rem;
  grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
  padding: 1rem;
}
.card {
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 1rem;
}
.card h2 { margin-top: 0; font-size: 1.05rem; }
.metrics { display: grid; grid-template-columns: repeat(2, 1fr); gap: .55rem; }
.metric { border: 1px solid var(--border); border-radius: 8px; padding: .5rem; }
.metric strong { display:block; font-size:1.1rem; }
.metric span { color: var(--muted); font-size: .84rem; }
.inline-stats { display:flex; gap:.4rem; flex-wrap:wrap; }
.badge { border:1px solid var(--border); border-radius:999px; padding:.2rem .55rem; font-size:.8rem; }
.actions { display:flex; gap:.5rem; margin: .6rem 0; }
button {
  background: var(--primary);
  color: #111;
  border: none;
  border-radius: 8px;
  padding: .48rem .75rem;
  font-weight: 600;
  cursor: pointer;
}
:root[data-theme="light"] button { color: #fff; }
button.danger { background: var(--bad); color: #fff; }
.form-grid { display:grid; gap:.6rem; }
label { display:grid; gap:.25rem; font-size: .88rem; }
input, textarea, select {
  width: 100%;
  border: 1px solid var(--border);
  background: transparent;
  color: var(--text);
  border-radius: 8px;
  padding: .5rem;
}
.calendar { display:grid; grid-template-columns:repeat(14,1fr); gap:4px; }
.day-cell { aspect-ratio: 1; border-radius: 4px; background: #303137; }
:root[data-theme="light"] .day-cell { background: #e5e7eb; }
.day-clean { background:#22c55e; }
.day-relapse { background:#ef4444; }
.workout-item, .panel-item { border:1px solid var(--border); border-radius:8px; padding:.5rem; margin:.35rem 0; }
small.muted { color: var(--muted); }
.status-good { color: var(--good); }
.status-warn { color: var(--warn); }
.status-bad { color: var(--bad); }
.milestone { border-left: 3px solid var(--border); padding-left: .55rem; margin:.5rem 0; }
.milestone.done { border-left-color: var(--good); }
.photo-row { display:flex; gap:.5rem; margin:.5rem 0; }
.photo-gallery { display:flex; gap:.5rem; flex-wrap:wrap; }
.photo-gallery img { width: 88px; height: 88px; object-fit: cover; border-radius: 8px; border: 1px solid var(--border); }
.link-row a { color: var(--primary); font-size: .84rem; margin-right: .5rem; }
